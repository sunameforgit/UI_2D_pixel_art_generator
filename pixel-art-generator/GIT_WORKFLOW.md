# Git提交工作流程指南

## 标准提交流程（遵循用户要求）

### 1. 拉取远程最新代码
在进行任何提交前，必须先拉取远程仓库的最新代码，确保本地代码与远程保持同步：

```bash
git pull origin main --rebase
```

**参数说明：**
- `origin`: 远程仓库名称（默认）
- `main`: 分支名称（根据实际分支调整）
- `--rebase`: 使用rebase方式整合远程更改，保持提交历史整洁

### 2. 解决冲突（如果有）
如果拉取时出现冲突，需要先解决冲突再继续：

```bash
# 查看冲突文件
git status

# 手动修改冲突文件，解决冲突标记
# 冲突标记示例：
# <<<<<<< HEAD
# 本地代码
# =======
# 远程代码
# >>>>>>> 远程分支

# 解决冲突后，暂存文件
git add <冲突文件>

# 继续rebase过程
git rebase --continue
```

### 3. 暂存本地更改
```bash
# 暂存所有更改
git add .

# 或暂存指定文件
git add <文件名>
```

### 4. 提交更改
使用"日期+变更内容"的格式创建提交信息：

```bash
git commit -m "YYYY-MM-DD 变更内容描述"
```

**示例：**
```bash
git commit -m "2025-05-05 添加新功能 - 实现像素艺术动画支持"
```

### 5. 创建版本号（可选）
如果是重要的功能更新或里程碑，可以创建版本号标签：

```bash
git tag vX.Y.Z
```

**版本号规则：**
- `X`: 主版本号（重大功能或架构变更）
- `Y`: 次版本号（新增功能或改进）
- `Z`: 补丁版本号（bug修复或小幅改进）

### 6. 推送到远程仓库
```bash
git push origin main --tags
```

**参数说明：**
- `--tags`: 同时推送标签

## 自动提交脚本（已更新）

自动提交脚本 `auto-commit.ps1` 已更新，遵循先拉取再提交和推送的流程。

## 注意事项

1. **定期拉取**：即使没有本地更改，也建议定期拉取远程代码，保持本地仓库最新。
2. **冲突解决**：解决冲突时要仔细检查代码，确保不会破坏现有功能。
3. **提交信息**：提交信息要清晰描述更改内容，便于后续查看和回溯。
4. **版本控制**：重要的更新要创建版本号，便于管理和发布。
5. **分支管理**：如果使用多个分支，要注意在正确的分支上进行操作。